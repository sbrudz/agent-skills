# Workflow Hooks Configuration
# Maps dev-ethos skills to superpowers workflow hook points

hooks:
  # ─────────────────────────────────────────────────────────────
  # DESIGN PHASE
  # ─────────────────────────────────────────────────────────────

  before_design:
    # Apply UX principles when designing user-facing features
    - skill: dev-ethos:ux-design-principles
      condition: if_ui
    # Apply DDD for features involving business logic
    - skill: dev-ethos:domain-driven-design

  after_design:
    # Build throwaway prototypes for complex UI interactions
    - skill: dev-ethos:ux-prototyping
      condition: if_ui
    # Document significant architectural decisions made during design
    - skill: dev-ethos:architecture-decision-records

  # ─────────────────────────────────────────────────────────────
  # PLANNING PHASE
  # ─────────────────────────────────────────────────────────────

  before_plan:
    # Consider architectural implications before planning
    - skill: dev-ethos:architecture-decision-records

  after_plan:
    # Ensure project quality tooling is set up before execution
    - skill: dev-ethos:project-quality-setup
      condition: if_new_project

  # ─────────────────────────────────────────────────────────────
  # EXECUTION PHASE
  # ─────────────────────────────────────────────────────────────

  before_execute:
    # Verify quality tooling is in place (prerequisite for plans)
    - skill: dev-ethos:project-quality-setup
      mode: check

  after_task:
    # Apply incremental refactoring to touched code
    - skill: dev-ethos:boy-scout-rule
    # Visually verify UI changes look correct
    - skill: dev-ethos:visual-feedback-loop
      condition: if_ui_changed

  # ─────────────────────────────────────────────────────────────
  # REVIEW PHASE
  # ─────────────────────────────────────────────────────────────

  before_review:
    # Inject React best practices into review criteria
    - skill: dev-ethos:react-best-practices
      condition: if_react
      mode: inject
    # Check for logic/IO separation issues
    - skill: dev-ethos:functional-core-imperative-shell
      mode: inject
    # Check naming and module boundaries
    - skill: dev-ethos:domain-driven-design
      mode: inject

  # ─────────────────────────────────────────────────────────────
  # COMPLETION PHASE
  # ─────────────────────────────────────────────────────────────

  after_execute:
    # Evaluate visual design quality after UI work
    - skill: dev-ethos:ux-visual-evaluation
      condition: if_ui_changed
